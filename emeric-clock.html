<!doctype html>
<head>
    <title>Emeric's Clock</title>
    <script src="p5.js"></script>
    <script>
    // window light images
    var window0;
    var window3;
    var window6;
    var window9;
    var window12;
    var window15;
    var window18;
    var window21;
    // window openness and apartment furniture
    var windowisopen=false;
    var windowpic;
    var windowopen;
    var windowclosed;
    var curtainopen;
    var curtainclosed;
    var apartmentwalls;
    var table;
    var chair;
    var tree;
    var hearth;
    // time-sensitive objects
    var shipsin;
    var shipsout;
    var stars1;
    var stars2;
    var bird1;
    var bird2;
    var squirrel1;
    var squirrel2;
    var owl1;
    var owl2;
    var steam1;
    var steam2;
    var breakfast;
    var dinner;
    var fire1;
    var fire2;
    var embers1;
    var embers2;
    var cloud1;
    var cloud2;
    var cloud3;
    var cloud4;
    var cloud5;
    // emeric images
    var emsleeping1;
    var emsleeping2;
    var emsleeping3;
    var emreading1;
    var emreading2;
    var emreading3;
    var emreading4;
    var emcooking1;
    var emcooking2;
    var emcooking3;
    var emcooking4;
    var emwriting1;
    var emwriting2;
    var emwriting3;
    var emwriting4;
    var emironing1;
    var emironing2;
    var emironing3;
    var emeating1;
    var emeating2;
    var emeating3;
    var emeating4;
    var emlounging1;
    var emlounging2;
    var emlounging3;
    var emlounging4;
    var emfire1;
    var emfire2;
    var emfire3;
    var emfire4;
    // emeric hand images
    var emfire1hands;
    var emfire2hands;
    var emfire3hands;
    var emfire4hands;
    var emironing1hands;
    var emironing2hands;
    var emironing3hands;
    var emcooking1hands;
    var emcooking2hands;
    var emcooking3hands;
    var emcooking4hands;
    var emwriting1hands;
    var emwriting2hands;
    var emwriting3hands;
    var emwriting4hands;
    var emreading1hands;
    var emreading2hands;
    var emreading3hands;
    var emreading4hands;
    // non-image variables
    var lighttint='#000000'
    var r1=0
    var r2=0
    var r3=0
    var r4=0
    var r5=0
    function preload(){
      window0=loadImage('window0-2.png');
      window3=loadImage('window3-5.png');
      window6=loadImage('window6-8.png');
      window9=loadImage('window9-11.png');
      window12=loadImage('window12-14.png');
      window15=loadImage('window15-17.png');
      window18=loadImage('window18-20.png');
      window21=loadImage('window21-23.png');
      windowopen=loadImage('window-open.png');
      windowclosed=loadImage('window-closed.png');
      apartmentwalls=loadImage('apartment-walls.png');
      bird1=loadImage('bird-1.png');
      bird2=loadImage('bird-2.png');
      steam1=loadImage('steam-1.png');
      steam2=loadImage('steam-2.png');
      breakfast=loadImage('breakfast-cooking.png');
      curtainopen=loadImage('curtain-open.png');
      curtainclosed=loadImage('curtain-closed.png');
      table=loadImage('table.png');
      dinner=loadImage('dinner-cooking.png');
      stars1=loadImage('stars-1.png');
      stars2=loadImage('stars-2.png');
      shipsin=loadImage('ships-in.png');
      shipsout=loadImage('ships-out.png');
      owl1=loadImage('owl-1.png');
      owl2=loadImage('owl-2.png');
      chair=loadImage('chair.png');
      tree=loadImage('tree.png');
      hearth=loadImage('hearth.png');
      fire1=loadImage('fire-1.png');
      fire2=loadImage('fire-2.png');
      embers1=loadImage('embers-1.png');
      embers2=loadImage('embers-2.png');
      squirrel1=loadImage('squirrel-1.png');
      squirrel2=loadImage('squirrel-2.png');
      cloud1=loadImage('cloud-1.png');
      cloud2=loadImage('cloud-2.png');
      cloud3=loadImage('cloud-3.png');
      cloud4=loadImage('cloud-4.png');
      cloud5=loadImage('cloud-5.png');
      //emeric images
      emsleeping1=loadImage('em-sleeping-1.png');
      emsleeping2=loadImage('em-sleeping-2.png');
      emsleeping3=loadImage('em-sleeping-3.png');
      emreading1=loadImage('em-reading-1.png');
      emreading2=loadImage('em-reading-2.png');
      emreading3=loadImage('em-reading-3.png');
      emreading4=loadImage('em-reading-4.png');
      emcooking1=loadImage('em-cooking-1.png');
      emcooking2=loadImage('em-cooking-2.png');
      emcooking3=loadImage('em-cooking-3.png');
      emcooking4=loadImage('em-cooking-4.png');
      emwriting1=loadImage('em-writing-1.png');
      emwriting2=loadImage('em-writing-2.png');
      emwriting3=loadImage('em-writing-3.png');
      emwriting4=loadImage('em-writing-4.png');
      emironing1=loadImage('em-ironing-1.png');
      emironing2=loadImage('em-ironing-2.png');
      emironing3=loadImage('em-ironing-3.png');
      emeating1=loadImage('em-eating-1.png');
      emeating2=loadImage('em-eating-2.png');
      emeating3=loadImage('em-eating-3.png');
      emeating4=loadImage('em-eating-4.png');
      emlounging1=loadImage('em-lounging-1.png');
      emlounging2=loadImage('em-lounging-2.png');
      emlounging3=loadImage('em-lounging-3.png');
      emlounging4=loadImage('em-lounging-4.png');
      emfire1=loadImage('em-fire-1.png');
      emfire2=loadImage('em-fire-2.png');
      emfire3=loadImage('em-fire-3.png');
      emfire4=loadImage('em-fire-4.png');
      // em hand images
      emfire1hands=loadImage('em-fire-1-hands.png');
      emfire2hands=loadImage('em-fire-2-hands.png');
      emfire3hands=loadImage('em-fire-3-hands.png');
      emfire4hands=loadImage('em-fire-4-hands.png');

      emironing1hands=loadImage('em-ironing-1-hands.png');
      emironing2hands=loadImage('em-ironing-2-hands.png');
      emironing3hands=loadImage('em-ironing-3-hands.png');

      emcooking1hands=loadImage('em-cooking-1-hands.png');
      emcooking2hands=loadImage('em-cooking-2-hands.png');
      emcooking3hands=loadImage('em-cooking-3-hands.png');
      emcooking4hands=loadImage('em-cooking-4-hands.png');

      emwriting1hands=loadImage('em-writing-1-hands.png');
      emwriting2hands=loadImage('em-writing-2-hands.png');
      emwriting3hands=loadImage('em-writing-3-hands.png');
      emwriting4hands=loadImage('em-writing-4-hands.png');

      emreading1hands=loadImage('em-reading-1-hands.png');
      emreading2hands=loadImage('em-reading-2-hands.png');
      emreading3hands=loadImage('em-reading-3-hands.png');
      emreading4hands=loadImage('em-reading-4-hands.png');
    }
    function setup(){
      createCanvas(415,200);
    }
    function draw() {
      let h = hour();
      let m = minute();
      let s = second();
      // window light
      if (h<3){
        image(window0,0,0);lighttint='#302a44';windowisopen=false;
      } else if (h<6){
        image(window3,0,0);lighttint='#4c5a77';windowisopen=false;
      } else if (h<9){
        image(window6,0,0);lighttint='#e2ddc1';windowisopen=false;
      } else if (h<12){
        image(window9,0,0);lighttint='#cee8fa';windowisopen=true;
      } else if (h<15){
        image(window12,0,0);lighttint='#adcff0';windowisopen=true;
      } else if (h<18){
        image(window15,0,0);lighttint='#84a3d7';windowisopen=true;
      } else if (h<21){
        image(window18,0,0);lighttint='#e47e67';windowisopen=true;
      } else {
        image(window21,0,0);lighttint='#473654';windowisopen=false;
      }
      // time-sensitive objects outside the apartment
      // 21-5: stars
      if (h<6){
        if (s%2==0){
          image(stars1,0,0);
        } else{image(stars2,0,0)}
      } else if (h>20){
        if (s%2==0){
          image(stars1,0,0);
        } else{image(stars2,0,0);}
      }
      // randomly: clouds
      // clouds appear at random intervals and move either 1 or 2 pixels per second
      if (m==0){
        r1=random(90);
        r2=random(90);
        r3=random(80);
        r4=random(80);
        r5=random(80);}
      push();tint(lighttint);
      if (m==r1){
        image(cloud1,s*5,0);
      }
      if (m==r2){
        image(cloud2,s*6,0);
      }
      if (m==r3){
        image(cloud3,s*5,0);
      }
      if (m==r4){
        image(cloud4,s*6,0);
      }
      if (m==r5){
        image(cloud5,s*5,0);
      }
      pop();
      // tree
      // apartment walls
      push();tint(lighttint);
      image(apartmentwalls,0,0);
      image(tree,0,0);
      pop();
      // 11-15: ships (11-12 and 14-15: out; 12-14: in)
      if (10<h){
        if (h<12){
          push();tint(lighttint);image(shipsout,0,0);pop();
        } else if (h<14){
          push();tint(lighttint);image(shipsin,0,0);pop();
        } else if (h<15){
          push();tint(lighttint);image(shipsout,0,0);pop();
        }
      }
      // 0-1: owl
      if (h<2){
        push();tint(lighttint);
        if (s%2==0){
          image(owl2,0,0);
        }
        else{image(owl1,0,0);}
        pop();
      }
      // curtains and window openness
      if (windowisopen==true){
        push();tint(lighttint);image(windowopen,0,0);
        if (s%2==0){
          image(curtainopen,0,0);
        }
        else{
          image(curtainclosed,0,0);
        }
        pop();
      }
      if (windowisopen==false){
        push();tint(lighttint);image(windowclosed,0,0);image(curtainclosed,0,0);pop();
      }
      // table and bed
      push();tint(lighttint);image(table,0,0);pop();
      // time-sensitive objects inside the apartment
      // 18-22: fire
      if (17<h){
        if (h<23){
          if (s%2==0){
            image(fire1,0,0);
          } else{image(fire2,0,0);}
        }
      }
      // 23-1: embers
      if (h>22){
        if (s%2==0){
          image(embers1,0,0);
        } else{image(embers2,0,0);}
      } else if (h<2){
        if (s%2==0){
          image(embers1,0,0);
        } else{image(embers2,0,0);}
      }
      // 11-13: bird
      if (10<h){
        if (h<13){
          if (s%2==0){
            image(bird1,0,0);
        }
          else{
            image(bird2,0,0);
        }
      }
      }
      // 14-16: squirrel
      if (13<h){
        if (h<16){
          if (s%2==0){
            image(squirrel1,0,0);
        }
          else{
            image(squirrel2,0,0);
        }
      }
      }
      // 9-9:30: cooking breakfast
      if (h==9){
        if (m<30){
          if (s%2==0){
            image(steam1,0,0);
          } else {image(steam2,0,0)}
          image(breakfast,0,0);
      }
    }
      // 19-19:30: cooking dinner
    if (h==19){
      if (m<30){
        if (s%2==0){
          push();tint(lighttint);image(steam1,0,0);pop();
      } else {push();tint(lighttint);image(steam2,0,0);pop();}
      image(dinner,0,0);
      }
    }
    // emeric animations
    //0-8: sleeping
    if (h<8){
        push();tint(lighttint);
        if (s%2==0){
          image(emsleeping2,0,0);
        } else if ((s+1)%4==0){
          image(emsleeping3,0,0);
        } else {
          image(emsleeping1,0,0);
        }
        pop();
    }
    // 22-0: reading
    if (h>21){

      if (s%2==0){
        if (s%4==0){
          push();tint(lighttint);image(emreading4,0,0);pop();
          image(emreading4hands,0,0);
        }
        else{
          push();tint(lighttint);image(emreading2,0,0);pop();
          image(emreading2hands,0,0);
        }

      } else if ((s+1)%4==0){
        push();tint(lighttint);image(emreading3,0,0);pop();
        image(emreading3hands,0,0);
      } else {
        push();tint(lighttint);image(emreading1,0,0);pop();
        image(emreading1hands,0,0);
      }

    }
    // 9-9:30 and 19-19:30: cooking
    if (h==9){
      if (m<30){
        if (s%2==0){
          if (s%4==0){
            push();tint(lighttint);image(emcooking4,0,0);pop();
            image(emcooking4hands,0,0);
          }
          else{
            push();tint(lighttint);image(emcooking2,0,0);pop();
            image(emcooking2hands,0,0);
          }

        } else if ((s+1)%4==0){
          push();tint(lighttint);image(emcooking3,0,0);pop();
          image(emcooking3hands,0,0);
        } else {
          push();tint(lighttint);image(emcooking1,0,0);pop();
          image(emcooking1hands,0,0);
        }
      }
    }
    if (h==19){
      if (m<30){
        if (s%2==0){
          if (s%4==0){
            push();tint(lighttint);image(emcooking4,0,0);pop();
            image(emcooking4hands,0,0);
          }
          else{
            push();tint(lighttint);image(emcooking2,0,0);pop();
            image(emcooking2hands,0,0);
          }

        } else if ((s+1)%4==0){
          push();tint(lighttint);image(emcooking3,0,0);pop();
          image(emcooking3hands,0,0);
        } else {
          push();tint(lighttint);image(emcooking1,0,0);pop();
          image(emcooking1hands,0,0);
        }
      }
    }
    // 20-22: writing
    if (19<h){
      if (h<22){
        if (s%2==0){
          if (s%4==0){
            push();tint(lighttint);image(emwriting4,0,0);pop();
            image(emwriting4hands,0,0);
          }
          else{
            push();tint(lighttint);image(emwriting2,0,0);pop();
            image(emwriting2hands,0,0);}
        } else if ((s+1)%4==0){
          push();tint(lighttint);image(emwriting3,0,0);pop();
          image(emwriting3hands,0,0);
        } else {
          push();tint(lighttint);image(emwriting1,0,0);pop();
          image(emwriting1hands,0,0);
        }
    }
  }
  // 10-11: ironing
  if (h==10){
      if (s%2==0){
        push();tint(lighttint);image(emironing2,0,0);pop();
        image(emironing2hands,0,0);
      } else if ((s+1)%4==0){
        push();tint(lighttint);image(emironing3,0,0);pop();
        image(emironing3hands,0,0);
      } else {
        push();tint(lighttint);image(emironing1,0,0);pop();
        image(emironing1hands,0,0);
      }
    }
    // 9:30-10 and 19:30-20:00: eating
    if (h==9){
      if (m>29){
        push();tint(lighttint);
        if (s%2==0){
          if (s%4==0){
            image(emeating4,0,0);
          }
          else{image(emeating2,0,0);}
        } else if ((s+1)%4==0){
          image(emeating3,0,0);
        } else {
          image(emeating1,0,0);
        }
        pop();
      }
    } else if (h==19){
      if (m>29){
        push();tint(lighttint);
        if (s%2==0){
          if (s%4==0){
            image(emeating4,0,0);
          }
          else{image(emeating2,0,0);}
        } else if ((s+1)%4==0){
          image(emeating3,0,0);
        } else {
          image(emeating1,0,0);
        }
        pop();
      }
    }
    // 8-9: lounging
    if (h==8){
        push();tint(lighttint);
        if (s%2==0){
          if (s%4==0){
            image(emlounging4,0,0);
          }
          else{image(emlounging2,0,0);}
        } else if ((s+1)%4==0){
          image(emlounging3,0,0);
        } else {
          image(emlounging1,0,0);
        }
        pop();
      }
    // 18-19: in front of the fire
    if (h==18){
        push();tint(lighttint);
        if (s%2==0){
          if (s%4==0){
            image(emfire4,0,0);
          }
          else{image(emfire2,0,0);}
        } else if ((s+1)%4==0){
          image(emfire3,0,0);
        } else {
          image(emfire1,0,0);
        }
        pop();
        if (s%2==0){
          if (s%4==0){
            image(emfire4hands,0,0);
          }
          else{image(emfire2hands,0,0);}
        } else if ((s+1)%4==0){
          image(emfire3hands,0,0);
        } else {
          image(emfire1hands,0,0);
        }
      }
    // chair
    push();tint(lighttint);image(chair,0,0);pop();
    // hearth
    image(hearth,0,0);
}
    </script>
</head>
<body background-color="black"></body>
</html>
